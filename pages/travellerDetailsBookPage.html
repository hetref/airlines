<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/css/bootstrap.min.css" integrity="sha384-DhY6onE6f3zzKbjUPRc2hOzGAdEf4/Dz+WJwBvEYL/lkkIsI3ihufq9hk9K4lVoK" crossorigin="anonymous">
    <title>Bookings</title>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-info">
        <div class="container-fluid">
          <a class="navbar-brand mt-0 mb-0 pt-0 pb-0" href="mainPage.html"><h2>Airlines</h2></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="mainPage.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="bookingTabPage.html">Bookings</a>
                </li>
            </ul>
        </div>
        </div>
    </nav>




<div class="mx-auto d-block text-center pt-5">
    <h2>Traveller Details</h2>
    Contact Details <br><br> <input type="email" id="email" placeholder="E-Mail" class="border-top-0 border-right-0 border-left-0">

    <br><br><input type="number" id="number" placeholder="Phone Number" class="border-top-0 border-right-0 border-left-0">

    <br><br><input type="text" id="firstName" placeholder="First Name" class="border-top-0 border-right-0 border-left-0">

    <br><br><input type="text" id="lastName" placeholder="Last Name" class="border-top-0 border-right-0 border-left-0">
<br><br>
    <button id="bookBtn" class="btn btn-info" onclick="bookNowFunc()">Book</button>

</div>









    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-database.js"></script>


    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-analytics.js"></script>

    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
            apiKey: "AIzaSyDdpubWS59J5fxzO-goNrmSBFni5U5-LhA",
            authDomain: "airlineswebsite-bcbe8.firebaseapp.com",
            databaseURL: "https://airlineswebsite-bcbe8.firebaseio.com",
            projectId: "airlineswebsite-bcbe8",
            storageBucket: "airlineswebsite-bcbe8.appspot.com",
            messagingSenderId: "528135116162",
            appId: "1:528135116162:web:4ccee1b30567023a662b9b",
            measurementId: "G-RGKTM6TSJJ"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        var database = firebase.database();

        const userEmail = document.getElementById("email");
        const userPhone = document.getElementById("number");
        const userFirstName = document.getElementById("firstName");
        const userLastName = document.getElementById("lastName");

        function bookNowFunc() {

            if (userEmail == null && userPhone == null && userFirstName == null && userLastName ==null) {
                alert("Please fill all the fields");
            } else if (userEmail != null && userPhone != null && userFirstName != null && userLastName !=null) {

                firebase.database().ref('Bookings/' + " " + userFirstName.value).set({
                    user_email: userEmail.value,
                    user_phone: userPhone.value,
                    user_first_name: userFirstName.value,
                    user_last_name: userLastName.value
                });
                alert("Thanks for Booking");
            }
        }
    </script>
</body>
</html>